{% assign secSt = section.settings %}
{% assign itemClass = "md:tw-w-1/2 md:odd:tw-pr-1 md:even:tw-pl-1" %}
{% assign clas1 = 'tw-block tw-h-full tw-relative tw-bg-black tw-group' %}
{% assign clas2 = 'tw-absolute tw-top-1/2 tw-left-1/2 -tw-translate-y-1/2 -tw-translate-x-1/2 tw-w-12 tw-h-12 tw-opacity-0 tw-transition-all group-hover:!tw-opacity-100' %}
{% assign clas3 = 'tw-overflow-hidden tw-h-full hover:tw-opacity-70 tw-transition-all' %}
{% assign clas4 = 'tw-block hover:tw-scale-105 tw-transition-all tw-object-cover' %}



<div class="tw-w-full {% render 'section-interva-set' , secSt:secSt %}">
  <div class="tw-flex md:tw-flex-row tw-flex-col">
    {% if secSt.image != blank %}
      {% assign itemClass = "md:tw-w-1/3 md:tw-pl-1 md:tw-pb-1" %}
      <div class="md:tw-w-2/5 tw-w-full md:tw-mb-0 tw-mb-1 md:tw-pb-1">
        <a href="{{ secSt.link }}" class="{{ clas1 }}">

          <div class="{{ clas3 }}">
            {% include 'aspect-ratio-img', media: secSt.image ,class: clas4 %}
          </div>

          {% if secSt.link != blank and secSt.icon != blank %}
          <div class="{{ clas2 }}">
            {% include 'aspect-ratio-img', media: secSt.icon %}
          </div>
          {% endif %}
        </a>
      </div>
    {% endif %}

    <div class="tw-flex tw-flex-wrap tw-flex-1 md:tw-px-0">
      {% for block in section.blocks %}
      {%- assign blSet = block.settings -%}
      {% assign hasContent = false %}
      {% if blSet.title != blank or blSet.content != blank %}
      {% assign hasContent = true %}
      {% endif %}
      {% if blSet.image != blank %}
        
        <div class="{{ itemClass }} tw-w-1/2 md:tw-mb-0 tw-mb-1 [&:nth-child(2n)]:tw-pl-1 
          {% if hasContent %}[&:nth-child(2n-1)]:tw-pr-1 {% endif %}">
          <a href="{{ blSet.link }}" class="{{clas1}} {% if hasContent %}!tw-h-auto{% endif %}">

            <div class="{{ clas3 }} {% if blSet.image_mb != blank %}md:tw-block tw-hidden{% endif %}">
              {% include 'aspect-ratio-img', media: blSet.image ,class: clas4 %}
            </div>
            {% if blSet.image_mb != blank %}
            <div class="{{ clas3 }} tw-block md:tw-hidden">
              {% include 'aspect-ratio-img', media: blSet.image_mb ,class: clas4 %}
            </div>
            {% endif %}

            {% if hasContent %}
            <div class="md:tw-px-10 md:tw-py-6 tw-px-6 tw-py-4 tw-bg-[#efefef]">
              <h4 class="md:tw-text-3xl tw-text-2xl tw-m-0 tw-font-semibold tw-tracking-normal">{{ blSet.title }}</h4>
              <p class="tw-m-0">{{ blSet.content }}</p>
            </div>
            {% endif %}

            {% if blSet.link != blank and blSet.icon != blank %}
              <div class="{{ clas2 }}">
                {% include 'aspect-ratio-img', media: blSet.icon %}
              </div>
            {% endif %}
          </a>
        </div>
      {% endif %}
      {% endfor %}
    </div>
  </div>
</div>


{% schema %}
  {
    "name": "Images grid 1.1",
    "settings": [
      {
      "type": "header",
      "content": "Section interval set"
      },
      {
        "type": "select",
        "id": "top_padding",
        "label": "top interval",
        "default": "large",
        "options": [
          {
            "value": "large",
            "label": "Large"
          },
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "none",
            "label": "None"
          }
        ]
      },
      {
        "type": "select",
        "id": "bottom_padding",
        "label": "bottom interval",
        "default": "default",
        "options": [
          {
            "value": "large",
            "label": "Large"
          },
          {
            "value": "default",
            "label": "Default"
          },
          {
            "value": "medium",
            "label": "Medium"
          },
          {
            "value": "small",
            "label": "Small"
          },
          {
            "value": "none",
            "label": "None"
          }
        ]
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "image_picker",
        "id": "icon",
        "label": "Touch icon"
      },
      {
        "type": "url",
        "id": "link",
        "label": "Link"
      }
    ],
    "blocks": [
      {
        "type": "text_block",
        "name": "Column",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "image_picker",
            "id": "image_mb",
            "label": "Image mobile"
          },
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Touch icon"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Link"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Heading",
            "default": "Save $900"
          },
          {
            "type": "text",
            "id": "content",
            "label": "Content",
            "default": "Combo Sale-EB7 2.0 Folding Electric Bike x2"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Images grid"
      }
    ]
  }
{% endschema %}
