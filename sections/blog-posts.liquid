{%- assign blog = blogs[section.settings.blog] -%}

{%- if section.settings.divider -%}<div class="section--divider">{%- endif -%}

<div class="page-width blog-list">
111111
  {%- if section.settings.title != blank -%}
    <header class="section-header{% if section.settings.view_all %}{% unless settings.type_headers_align_text %} section-header--with-link{% endunless %}{% endif %}">
      <div class="blog_title">  <h2 class="section-header__title">
          {{ section.settings.title | escape }}
        </h2>
      {{ section.settings.content }}
      </div>
      {%- if section.settings.view_all -%}
        <a href="{{ blog.url }}"  class="btn btn--small section-header__link"><span><svg version="1.2" baseProfile="tiny" 
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" xml:space="preserve">
<g>
	<path fill="#FFFFFF" d="M12,0.39C5.587,0.39,0.39,5.588,0.39,12S5.587,23.609,12,23.609c6.412,0,11.61-5.197,11.61-11.609
		S18.412,0.39,12,0.39z M16.475,12.347l-3.103,3.102c-0.096,0.096-0.221,0.143-0.347,0.143c-0.125,0-0.251-0.047-0.347-0.143
		c-0.191-0.191-0.191-0.504,0-0.695l2.265-2.263H7.872c-0.271,0-0.49-0.219-0.49-0.491c0-0.271,0.219-0.491,0.49-0.491h7.071
		l-2.265-2.264c-0.191-0.192-0.191-0.501,0-0.693c0.191-0.192,0.502-0.192,0.693,0l3.103,3.102c0.092,0.092,0.144,0.217,0.144,0.347
		C16.618,12.13,16.566,12.255,16.475,12.347z"/>
	<path fill="#F29327" d="M13.372,8.552c-0.191-0.192-0.502-0.192-0.693,0c-0.191,0.192-0.191,0.501,0,0.693l2.265,2.264H7.872
		c-0.271,0-0.49,0.22-0.49,0.491c0,0.271,0.219,0.491,0.49,0.491h7.071l-2.265,2.263c-0.191,0.191-0.191,0.504,0,0.695
		c0.096,0.096,0.222,0.143,0.347,0.143c0.126,0,0.251-0.047,0.347-0.143l3.103-3.102c0.092-0.092,0.144-0.217,0.144-0.347
		c0-0.13-0.052-0.255-0.144-0.347L13.372,8.552z"/>
</g>
</svg></span><span></span>{{ 'blogs.article.view_all' | t }}</span></a>
      {%- endif -%}
    </header>
  {%- endif -%}
</div>
  
<div class="hbs_slider">
    <div class="swiper-container">
      <div class="swiper-wrapper">
      {%- for article in blog.articles limit: section.settings.post_limit -%}
        {%- render 'article-grid-item-slider',
          blog: blog,
          article: article,
          grid_item_width: 'medium-up--one-third',
          per_row: '3',
          image_size: section.settings.blog_image_size
        -%}
      {%- endfor -%}
      </div>
    </div>


</div>
 <style>
   @media(min-width:768px) and (max-width:1024px){
.article__grid-image .image-wrap{min-height:400px!important;}
   }
 </style>
<script>
  var swiper = new Swiper(".hbs_slider .swiper-container", {
        slidesPerView: 3.5,
        autoplay: false,
        spaceBetween: 40,
        loop:false,
        slidesOffsetBefore : 140,
    slidesOffsetAfter:140,
     breakpoints: {
         0: { /* when window >=0px - webflow mobile landscape/portriat */
        slidesPerView: 1.3,
            spaceBetween: 20,
            slidesOffsetBefore : 15,
           slidesOffsetAfter:15,
          },
        760: { /* when window >= 769px - webflow desktop */
        slidesPerView: 2.5,
        slidesOffsetBefore : 30,
          spaceBetween: 20,
    slidesOffsetAfter:30,
          },
        1025: { /* when window >= 980px - webflow desktop */
        slidesPerView: 3.5,
           spaceBetween: 20,
           slidesOffsetBefore : 50
          },
          1680: { /* when window >= 1680px - webflow desktop */
        slidesPerView: 3.5,
           spaceBetween: 40,
           slidesOffsetBefore :140
          }
         }
      });
  
</script>
{%- if section.settings.divider -%}</div>{%- endif -%}

{% schema %}
{
  "name": "t:sections.blog-posts.name",
  "class": "index-section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "t:sections.blog-posts.settings.title.label",
      "default": "Blog posts"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content"
    },
    {
      "id": "blog",
      "type": "blog",
      "label": "t:sections.blog-posts.settings.blog.label"
    },
    {
      "type": "range",
      "id": "post_limit",
      "label": "t:sections.blog-posts.settings.post_limit.label",
      "default": 3,
      "min": 3,
      "max": 12,
      "step": 3
    },
    {
      "type": "checkbox",
      "id": "blog_show_tags",
      "label": "t:sections.blog-posts.settings.blog_show_tags.label"
    },
    {
      "type": "checkbox",
      "id": "blog_show_date",
      "label": "t:sections.blog-posts.settings.blog_show_date.label",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "blog_show_comments",
      "label": "t:sections.blog-posts.settings.blog_show_comments.label"
    },
    {
      "type": "checkbox",
      "id": "blog_show_author",
      "label": "t:sections.blog-posts.settings.blog_show_author.label"
    },
    {
      "type": "checkbox",
      "id": "blog_show_excerpt",
      "label": "Show excerpt"
    },
    {
      "type": "checkbox",
      "id": "view_all",
      "label": "t:sections.blog-posts.settings.view_all.label",
      "default": true
    },
    {
      "type": "select",
      "id": "blog_image_size",
      "label": "t:sections.blog-posts.settings.blog_image_size.label",
      "default": "wide",
      "options": [
        {
          "value": "natural",
          "label": "t:sections.blog-posts.settings.blog_image_size.options.natural.label"
        },
        {
          "value": "square",
          "label": "t:sections.blog-posts.settings.blog_image_size.options.square.label"
        },
        {
          "value": "landscape",
          "label": "t:sections.blog-posts.settings.blog_image_size.options.landscape.label"
        },
        {
          "value": "portrait",
          "label": "t:sections.blog-posts.settings.blog_image_size.options.portrait.label"
        },
        {
          "value": "wide",
          "label": "t:sections.blog-posts.settings.blog_image_size.options.wide.label"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "divider",
      "label": "t:sections.blog-posts.settings.divider.label",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "t:sections.blog-posts.presets.blog_posts.name",
      "settings": {
        "blog": "News",
        "post_limit": 3
      }
    }
  ],
  "disabled_on": {
    "groups": ["footer", "header", "custom.popups"]
  }
}
{% endschema %}
