{%- assign secSt = section.settings -%}

{% if secSt.img != blank or secSt.bg_img != blank %}

  <section class="tw-bg-no-repeat tw-bg-cover" section-name="image-list-text" style="background-color:{{secSt.bg_color}};{% if secSt.bg_img != blank %} background-image:url({{secSt.bg_img | img_url:master}}); {% endif %}"
     class="{% unless secSt.full_width %}page-width{% endunless %}" >

    <div class="{% if secSt.full_width %}tw-w-full {% else %}page-width{% endif %} tw-mx-auto md:tw-flex tw-items-center {% if secSt.bottom_line %}tw-border-solid tw-border-0 tw-border-b tw-border-black-300 tw-pb-8 {% endif %}">


      <div class='md:tw-w-1/2 tw-flex tw-justify-center tw-items-center {% if secSt.layout == "textImage" %}tw-order-3{%else%}tw-order-1{% endif %}' >
        <div>
          {% if secSt.img != blank %}.
          {{ secSt.img | image_url: width: 1000 | image_tag: width: nil, loading: 'lazy', class:'tw-block' }}
          {% endif %}
        </div>
      </div>
      <div class="md:tw-w-1/2 tw-order-2 tw-flex tw-flex-col tw-mb-4 tw-pr-12 {% if secSt.full_width %}lg:tw-p-0 tw-p-4{% endif %}">
        <div class="md:tw-mr-2"> 
          <h1 class="md:tw-text-5xl tw-text-3xl tw-mb-7">{{ secSt.text_main  }}</h1>
          <p class="tw-text-xl md:tw-mb-12 tw-mb-6">{{ secSt.text_sub }}</p>
        </div>

        {% if secSt.text_layout == 'horizontal' %}
            {% assign flexClass = 'tw-flex-wrap' %}
          {% else %}
            {% assign flexClass = 'tw-flex-col' %}
        {% endif %}

       
        <div class="tw-flex {{flexClass}} {{ secSt.text_align }}">
          {%- assign titleSize = section.settings.i_title_size -%}
          {%- assign textSize = section.settings.i_text_size -%}
          {% for block in section.blocks %}
          {%- assign length = forloop.length -%}
          {%- assign blkSt = block.settings -%}
          {% if length == 2 or length == 4 or secSt.text_layout == 'vertical' %}
            {%- assign wClass = 'tw-w-1/2' -%}
            {% else %}
            {%- assign wClass = 'md:tw-w-1/3 tw-w-1/2' -%}
          {% endif %}
              <div class="{{wClass}} tw-mb-8 ">
                {% if blkSt.icon != blank %}
                {{ blkSt.icon | image_url: width: 300 | image_tag: width: nil, loading: 'lazy', class:'tw-w-16 tw-mx-auto' }}
                {% endif %}
                <p class="tw-m-0 tw-mt-2 tw-font-semibold tw-leading-tight" style="font-size:{{titleSize}}%">{{blkSt.item_title}}</p>
                <p class="tw-m-0 tw-text-base" style="font-size:{{textSize}}%">{{blkSt.item_dec}}</p>
              </div>
          {% endfor %}
            {% if secSt.btm_img != blank %}
            <div tag-name="bottom-image" class="tw-mt-6" style="width:{{secSt.btm_img_w}}%">
              {{ secSt.btm_img | image_url: width: 800 | image_tag: width: nil, loading: 'lazy' }}
            </div>
            {% endif %}




        </div>
      </div>
    </div>
  </section>  
{% endif %}



{% schema %}
  {
    "name": "Image list text v1.1",
    "tag": "section",
    "settings": [
 		  {
        "type": "color",
        "id": "bg_color",
        "label": "Background color",
        "default":"#E8EBF0"
      },
      {
        "type": "image_picker",
        "id": "bg_img",
        "label": "Background img"
      },
      {
        "type": "checkbox",
        "id": "full_width",
        "label": "Is full width?",
        "default": false
      },
      {
        "type": "select",
        "id": "layout",
        "label": "Layout style",
        "default": "textImage",
        "options": [
          {
            "value": "textImage",
            "label": "Image on the right"
          },
          {
            "value": "imageText",
            "label": "Image on the Left"
          }
        ]
      },
      {
        "type": "select",
        "id": "text_layout",
        "label": "Item layout style",
        "default": "horizontal",
        "options": [
          {
            "value": "horizontal",
            "label": "Horizontal"
          },
          {
            "value": "vertical",
            "label": "Vertical"
          }
        ]
      },
      {
        "type": "select",
        "id": "text_align",
        "label": "Item text align",
        "default": "",
        "options": [
          {
            "value": "",
            "label": "Left"
          },
          {
            "value": "text-center",
            "label": "Center"
          }
        ]
      },
 		  {
        "type": "image_picker",
        "id": "img",
        "label": "main image"
      },
 		  {
        "type": "text",
        "id": "text_main",
        "label": "Title",
        "default":"Dual 48V 15Ah Lithium Batteries"
      },
 		  {
        "type": "text",
        "id": "text_sub",
        "label": "Sub title",
        "default":"If range anxiety is of concern to you, Rhino will get you covered with its 1440wh battery capacity. Battery density has increased 21% from 18,650 to 21,700 cells, allowing you to ride up to 100 miles for a single charge. And worried about long charging times? It takes only 5 hours to get fully charged with 2 chargers."
      },
      {
        "type": "image_picker",
        "id": "btm_img",
        "label": "Bottom image"
      },
      {
        "type": "range",
        "id": "btm_img_w",
        "min": 50,
        "max": 100,
        "step": 5,
        "unit": "%",
        "label": "Bottom image width",
        "default": 100
      },
      {
        "type": "header",
        "content": "Items setting"
      },
      {
        "type": "range",
        "id": "i_title_size",
        "min": 50,
        "max": 250,
        "step": 10,
        "unit": "%",
        "label": "Items title font size",
        "default": 140
      },
      {
        "type": "range",
        "id": "i_text_size",
        "min": 50,
        "max": 250,
        "unit": "%",
        "step": 10,
        "label": "Items content font size",
        "default": 100
      }
    ],
    "blocks": [
      {
        "type": "item",
        "name": "List item",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Item icon"
          },
          {
            "type": "text",
            "id": "item_title",
            "label": "Item title",
            "default":"Density Increased"
          },
          {
            "type": "text",
            "id": "item_dec",
            "label": "Item content",
            "default":"21%"
          }
        ]
      }
    ],
    "presets": [
        {
          "name": "Image list text v1.1"
        }
      ]
  }
{% endschema %} 